<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Substrate - MoA</title>
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f0f4f8;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        color: #333;
      }
      .container {
        display: flex;
        align-items: center;
      }
      .main-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: -40px;
      }
      .card {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
        width: 600px;
        margin-bottom: 20px;
      }
      .content {
        background-color: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 4px;
        padding: 16px;
        margin-bottom: 16px;
        min-height: 300px;
        max-height: 300px;
        overflow-y: auto;
        white-space: pre-wrap;
      }
      .controls {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 16px;
      }
      button {
        background-color: #4a5568;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        cursor: pointer;
        transition: background-color 0.3s;
        margin: 4px;
      }
      button:hover:not(:disabled) {
        background-color: #2d3748;
        color: white;
      }
      button:disabled {
        background-color: #cbd5e0;
        cursor: not-allowed;
      }
      .view-toggle {
        display: flex;
        margin-bottom: 16px;
      }
      .view-toggle button {
        background-color: #e2e8f0;
        color: #4a5568;
      }
      .view-toggle button.active {
        background-color: #4a5568;
        color: white;
      }
      .question-txt {
        text-align: center;
        font-size: 15px;
        color: #718096;
        margin-bottom: 24px;
        margin-top: -32px;
        font-style: italic;
        opacity: 0.6;
        max-width: 500px;
      }
      .model-name {
        text-align: center;
        margin-top: -4px;
        margin-bottom: 10px;
        font-size: 14px;
        color: #718096;
      }
      .vertical-controls {
        display: flex;
        flex-direction: column;
        margin-left: 20px;
      }
      .dot-container {
        display: flex;
        justify-content: center;
        margin-top: 10px;
      }
      .dot-container.vertical {
        flex-direction: column;
        position: absolute;
        left: calc(50% - 380px);
        top: 50%;
        transform: translateY(-50%);
      }
      .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #cbd5e0;
        margin: 0 5px;
      }
      .dot-container.vertical .dot {
        margin: 5px 0;
      }
      .dot.active {
        background-color: #4a5568;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div id="layerDots" class="dot-container vertical"></div>
      <div class="main-content">
        <div id="question" class="question-txt"></div>
        <div class="view-toggle">
          <button id="paragraphsBtn">Individual</button>
          <button id="summariesBtn">Aggregate</button>
        </div>
        <div class="card">
          <div id="cardTitle" class="model-name">Mistral</div>
          <div class="content" id="contentArea"></div>
          <div id="paragraphDots" class="dot-container horizontal"></div>
        </div>
        <div class="controls">
          <button id="prevBtn">◀</button>
          <button id="nextBtn">▶</button>
        </div>
      </div>
      <div class="vertical-controls">
        <button id="upBtn">▲</button>
        <button id="downBtn">▼</button>
      </div>
    </div>

    <script>
      const question = "what are federer's records"
      const modelNames = [
        "Mistral7BInstruct",
        "Mixtral8x7BInstruct",
        "Llama3Instruct8B",
        "Llama3Instruct70B",
      ];
      const individualResults = [
  [
    " Roger Federer is considered one of the greatest tennis players of all time, holding numerous records in men's tennis. Here are some of his most notable records:\n\n1. Grand Slam titles: Federer has won a total of 20 Grand Slam singles titles, the most in history for a male player. He has won Wimbledon a record eight times, the Australian Open six times, the US Open five times, and the French Open once.\n2. Weeks as world No. 1: Federer spent a total of 310 weeks as the world No. 1 ranked player, the most in history.\n3. ATP Masters 1000 titles: Federer has won a record 31 ATP Masters 1000 titles, which is more than any other player in history.\n4. Most consecutive wins: Federer holds the record for the most consecutive victories in a single season, with a streak of 41 wins in 2006.\n5. Davis Cup titles: Federer has won the Davis Cup a record six times, the most by any player in history.\n6. Most titles in a year: Federer holds the record for the most titles won in a single year, with a total of 10 titles in 2006.\n7. Most consecutive appearances in the semifinals or better at a Grand Slam tournament: Federer has reached the semifinals or better at every Grand Slam tournament for 10 consecutive years from 2004 to 2013.\n8. Most consecutive wins on grass: Federer holds the record for the most consecutive wins on grass courts, with a streak of 65 wins from 2003 to 2008.\n9. Most aces in a career: Federer has hit a total of 10,136 aces in his career, the most in history.\n10. Most consecutive wins against top-10 opponents: Federer holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007.",
    " Roger Federer is a professional tennis player from Switzerland who has numerous records to his name. Here are some of his most notable records:\n\n* **Grand Slam titles:** Federer has won 20 Grand Slam singles titles, which is the second-most in history behind Rafael Nadal's 21. He has won eight Wimbledon titles, six Australian Open titles, five US Open titles, and one French Open title.\n* **ATP Tour titles:** Federer has won 103 ATP Tour singles titles, which is the second-most in history behind Jimmy Connors' 109.\n* **Weeks at No. 1:** Federer has spent a record 310 weeks as the world No. 1 ranked player in the ATP rankings. He has also spent a record 237 consecutive weeks in the top spot.\n* **Year-end No. 1:** Federer has finished as the year-end No. 1 ranked player in the ATP rankings a record six times (2004-2007, 2009, 2012).\n* **Grand Slam match wins:** Federer has won 369 matches at the Grand Slams, which is the most in history.\n* **Consecutive Grand Slam semifinals:** Federer reached a record 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open.\n* **Consecutive Grand Slam finals:** Federer reached a record 10 consecutive Grand Slam finals from the 2005 Wimbledon Championships to the 2007 US Open.\n* **Consecutive Grand Slam titles:** Federer won five consecutive Grand Slam titles from the 2005 US Open to the 2007 Australian Open.\n\nThese are just a few of Federer's many records. He is widely regarded as one of the greatest tennis players of all time.",
    "I don't have access to real-time information or current records. However, I can provide you with some of roger federer's notable records in tennis:\n\n- most grand slam titles won by a male player (20)\n- longest streak of consecutive weeks as the world no. 1 (310 weeks)\n- fastest serve recorded in men's tennis (251 km/h)\n- most career prize money earned by a male player ($128 million)\n- most weeks spent at no. 1 in the atp rankings (310)\n- youngest player to win a grand slam title (19 years and 3 months)\n- most atp masters 1000 titles won by a male player (28)\n- most consecutive grand slam finals reached (23)\n\nthese are just a few examples of federer's impressive records in tennis.</s>",
    "Roger Federer holds numerous records in tennis. Here are some of his most notable records:\n\n1. **Grand Slam titles:** 20 (most in men's tennis history)\n\t* Australian Open: 6 titles (2004, 2006, 2007, 2010, 2017, 2018)\n\t* French Open: 1 title (2009)\n\t* Wimbledon: 8 titles (2003, 2004, 2005, 2006, 2007, 2009, 2012, 2017)\n\t* US Open: 5 titles (2004, 2005, 2006, 2008, 2018)\n2. **Consecutive Grand Slam finals:** 10 (2005-2007)\n3. **Consecutive Wimbledon finals:** 7 (2003-2009)\n4. **Most weeks at No. 1:** 310 weeks (record)\n5. **Most consecutive weeks at No. 1:** 237 weeks (2004-2008)\n6. **Most year-end No. 1 finishes:** 5 (2004, 2005, 2006, 2007, 2009)\n7. **Oldest player to hold No. 1 ranking:** 37 years and 233 days (2018)\n8. **Most ATP titles:** 103 (second all-time behind Jimmy Connors' 109)\n9. **Most ATP Masters 1000 titles:** 28 (record)\n10. **Most grass court titles:** 19 (record)\n11. **Most hard court titles:** 71 (record)\n12. **Most matches won on grass:** 187 (record)\n13. **Most matches won on hard courts:** 443 (record)\n14. **Most Grand Slam match wins:** 362 (record)\n15. **Most Grand Slam semifinal appearances:** 46 (record)\n16. **Most Grand Slam quarterfinal appearances:** 57 (record)\n17. **Most ATP finals appearances:** 157 (record)\n18. **Most ATP semifinal appearances:** 215 (record)\n19. **Most ATP quarterfinal appearances:** 284 (record)\n20. **Longest streak of winning at least one Grand Slam title:** 15 years (2003-2017)\n\nThese records demonstrate Federer's incredible consistency, dominance, and longevity at the top of men's tennis."
  ],
  [
    " Roger Federer is widely regarded as one of the greatest tennis players of all time, holding numerous records in men's tennis. Some of his most notable records include:\n\n* Grand Slam titles: Federer has won a total of 20 Grand Slam singles titles, the most in history for a male player. He has won Wimbledon a record eight times, the Australian Open six times, the US Open five times, and the French Open once.\n* Weeks as world No. 1: Federer spent a total of 310 weeks as the world No. 1 ranked player, the most in history.\n* ATP Masters 1000 titles: Federer has won a record 31 ATP Masters 1000 titles.\n* Consecutive wins: Federer holds the record for the most consecutive victories in a single season, with a streak of 41 wins in 2006.\n* Davis Cup titles: Federer has won the Davis Cup a record six times.\n* Most titles in a year: Federer holds the record for the most titles won in a single year, with a total of 10 titles in 2006.\n* Most consecutive appearances in the semifinals or better at a Grand Slam tournament: Federer has reached the semifinals or better at every Grand Slam tournament for 10 consecutive years from 2004 to 2013.\n* Most consecutive wins on grass: Federer holds the record for the most consecutive wins on grass courts, with a streak of 65 wins from 2003 to 2008.\n* Most aces in a career: Federer has hit a total of 10,136 aces in his career.\n* Most consecutive wins against top-10 opponents: Federer holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007.\n\nFederer's records demonstrate his incredible consistency, dominance, and longevity at the top of men's tennis.",
    " Roger Federer is widely regarded as one of the greatest tennis players of all time, and his records in the sport back up this assessment. Here are some of his most notable records:\n\n1. Grand Slam titles: Federer has won a total of 20 Grand Slam singles titles, the most in history for a male player. He has won Wimbledon a record eight times, the Australian Open six times, the US Open five times, and the French Open once.\n2. Weeks as world No. 1: Federer spent a total of 310 weeks as the world No. 1 ranked player, the most in history.\n3. ATP Masters 1",
    "Roger Federer is widely regarded as one of the greatest tennis players of all time, with numerous records to his name. He has won a total of 20 Grand Slam singles titles, the most in history for a male player. He has won Wimbledon a record eight times, the Australian Open six times, the US Open five times, and the French Open once. Federer has also spent a record 310 weeks as the world No. 1 ranked player in the ATP rankings, the most in history. Additionally, he holds the record for the most consecutive victories in a single season, with a streak of 41 wins in 2006. Federer has reached the semifinals or better at every Grand Slam tournament for 10 consecutive years from 2004 to 2013, and he holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007. Federer's impressive career statistics include the most titles won in a single year, with a total of 10 titles in 2006, and the most consecutive appearances in the semifinals or better at a Grand Slam tournament, with a record of 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open. These are just a few examples of Federer's many records, which demonstrate his incredible consistency, dominance, and longevity at the top of men's tennis.</s>",
    "Roger Federer is widely regarded as one of the greatest tennis players of all time, holding numerous records in men's tennis. Here are some of his most notable records:\n\n**Grand Slam titles:** Federer has won a record 20 Grand Slam singles titles, including eight Wimbledon titles, six Australian Open titles, five US Open titles, and one French Open title.\n\n**Weeks as world No. 1:** Federer spent a record 310 weeks as the world No. 1 ranked player, with a streak of 237 consecutive weeks in the top spot.\n\n**ATP Masters 1000 titles:** Federer has won a record 31 ATP Masters 1000 titles, the most in history.\n\n**Grand Slam match wins:** Federer has won a record 369 matches at the Grand Slams, the most in history.\n\n**Consecutive Grand Slam semifinals:** Federer reached a record 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open.\n\n**Consecutive Grand Slam finals:** Federer reached a record 10 consecutive Grand Slam finals from the 2005 Wimbledon Championships to the 2007 US Open.\n\n**Consecutive Grand Slam titles:** Federer won five consecutive Grand Slam titles from the 2005 US Open to the 2007 Australian Open.\n\n**Most titles in a year:** Federer holds the record for the most titles won in a single year, with a total of 10 titles in 2006.\n\n**Most consecutive wins on grass:** Federer holds the record for the most consecutive wins on grass courts, with a streak of 65 wins from 2003 to 2008.\n\n**Most aces in a career:** Federer has hit a total of 10,136 aces in his career, the most in history.\n\n**Most consecutive wins against top-10 opponents:** Federer holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007.\n\n**Year-end No. 1 finishes:** Federer has finished as the year-end No. 1 ranked player in the ATP rankings a record six times (2004-2007, 2009, 2012).\n\n**Oldest player to hold No. 1 ranking:** Federer became the oldest player to hold the No. 1 ranking at 37 years and 233 days in 2018.\n\n**Most ATP titles:** Federer has won 103 ATP Tour singles titles, the second-most in history behind Jimmy Connors' 109.\n\n**Most grass court titles:** Federer has won a record 19 grass court titles.\n\n**Most hard court titles:** Federer has won a record 71 hard court titles.\n\n**Most matches won on grass:** Federer has won a record 187 matches on grass courts.\n\n**Most matches won on hard courts:** Federer has won a record 443 matches on hard courts.\n\n**Most ATP finals appearances:** Federer has appeared in a record 157 ATP finals.\n\n**Most ATP semifinal appearances:** Federer has appeared in a record 215 ATP semifinals.\n\n**Most ATP quarterfinal appearances:** Federer has appeared in a record 284 ATP quarterfinals.\n\nThese records demonstrate Federer's incredible consistency, dominance, and longevity at the top of men's tennis."
  ],
  [
    " Roger Federer is widely regarded as one of the greatest tennis players of all time, holding numerous records in men's tennis. Here are some of his most notable records:\n\n1. Grand Slam titles: Federer holds the record for the most Grand Slam singles titles by a male player, with a total of 20 titles. He has won Wimbledon a record eight times, the Australian Open six times, the US Open five times, and the French Open once.\n2. Weeks as world No. 1: Federer has spent a record 310 weeks as the world No. 1 ranked player in the ATP rankings.\n3. ATP Masters 1000 titles: Federer has won a record 31 ATP Masters 1000 titles.\n4. Consecutive wins: Federer holds the record for the most consecutive victories in a single season, with a streak of 41 wins in 2006.\n5. Davis Cup titles: Federer has won the Davis Cup a record six times.\n6. Most titles in a year: Federer holds the record for the most titles won in a single year, with a total of 10 titles in 2006.\n7. Consecutive Grand Slam semifinals: Federer reached a record 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open.\n8. Consecutive Grand Slam finals: Federer reached a record 10 consecutive Grand Slam finals from the 2005 Wimbledon Championships to the 2007 US Open.\n9. Consecutive Grand Slam titles: Federer won five consecutive Grand Slam titles from the 2005 US Open to the 2007 Australian Open.\n10. Most aces in a career: Federer has hit a total of 10,136 aces in his career.\n11. Most consecutive wins against top-10 opponents: Federer holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007.\n12. Year-end No. 1 finishes: Federer has finished as the year-end No. 1 ranked player in the ATP rankings a record six times (2004-2007, 2009, 2012).\n13. Oldest player to hold No. 1 ranking: Federer became the oldest player to hold the No. 1 ranking at 37 years and 233 days in 2018.\n14. Most ATP titles: Federer has won 103 ATP Tour singles titles, which is the second-most in history behind Jimmy Connors' 109.\n15. Most grass court titles: Federer has won a record 19 grass court titles.\n16. Most hard court titles: Federer has won a record 71 hard court titles.\n17. Most matches won on grass: Federer has won a record 187 matches on grass courts.\n18. Most matches won on hard courts: Federer has won a record 443 matches on hard courts.\n19. Most Grand Slam match wins: Federer has won a record 369 matches at the Grand Slams.\n20. Most Grand Slam semifinal appearances: Federer has appeared in a record 46 Grand Slam semifinals.\n21. Most Grand Sl",
    " Roger Federer is a professional tennis player from Switzerland who is widely regarded as one of the greatest players of all time. He holds numerous records in tennis, particularly in the men's Grand Slam events and the ATP Tour. Here are some of his most notable records:\n\n* Grand Slam titles: Federer has won a record 20 Grand Slam singles titles, including eight Wimbledon titles, six Australian Open titles, five US Open titles, and one French Open title.\n* Weeks as world No. 1: Federer spent a record 310 weeks as the world No. 1 ranked player, with a streak of 237 consecutive weeks in the top spot.\n* ATP Masters 1000 titles: Federer has won a record 31 ATP Masters 1000 titles, the most in history.\n* Consecutive Grand Slam semifinals: Federer reached a record 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2",
    "Roger Federer is widely regarded as one of the greatest tennis players of all time, holding numerous records in men's tennis. He has won a total of 20 Grand Slam singles titles, including eight Wimbledon titles, six Australian Open titles, five US Open titles, and one French Open title. Federer spent a record 310 weeks as the world No. 1 ranked player in the ATP rankings, with a streak of 237 consecutive weeks in the top spot. He also holds the record for the most consecutive victories in a single season, with a streak of 41 wins in 2006. Federer has reached the semifinals or better at every Grand Slam tournament for 10 consecutive years from 2004 to 2013, and he holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007. Federer's impressive career statistics include the most titles won in a single year, with a total of 10 titles in 2006, and the most consecutive appearances in the semifinals or better at a Grand Slam tournament, with a record of 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open. Additionally, Federer has won a record 31 ATP Masters 1000 titles, the most in history. His records demonstrate his incredible consistency, dominance, and longevity at the top of men's tennis.</s>",
    "Roger Federer is widely regarded as one of the greatest tennis players of all time, holding numerous records in men's tennis. Here are some of his most notable records:\n\n**Grand Slam titles:** Federer has won a record 20 Grand Slam singles titles, including eight Wimbledon titles, six Australian Open titles, five US Open titles, and one French Open title.\n\n**Weeks as world No. 1:** Federer spent a record 310 weeks as the world No. 1 ranked player, with a streak of 237 consecutive weeks in the top spot.\n\n**ATP Masters 1000 titles:** Federer has won a record 31 ATP Masters 1000 titles, the most in history.\n\n**Grand Slam match wins:** Federer has won a record 369 matches at the Grand Slams, the most in history.\n\n**Consecutive Grand Slam semifinals:** Federer reached a record 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open.\n\n**Consecutive Grand Slam finals:** Federer reached a record 10 consecutive Grand Slam finals from the 2005 Wimbledon Championships to the 2007 US Open.\n\n**Consecutive Grand Slam titles:** Federer won five consecutive Grand Slam titles from the 2005 US Open to the 2007 Australian Open.\n\n**Most titles in a year:** Federer holds the record for the most titles won in a single year, with a total of 10 titles in 2006.\n\n**Most consecutive wins on grass:** Federer holds the record for the most consecutive wins on grass courts, with a streak of 65 wins from 2003 to 2008.\n\n**Most aces in a career:** Federer has hit a total of 10,136 aces in his career, the most in history.\n\n**Most consecutive wins against top-10 opponents:** Federer holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007.\n\n**Year-end No. 1 finishes:** Federer has finished as the year-end No. 1 ranked player in the ATP rankings a record six times (2004-2007, 2009, 2012).\n\n**Oldest player to hold No. 1 ranking:** Federer became the oldest player to hold the No. 1 ranking at 37 years and 233 days in 2018.\n\n**Most ATP titles:** Federer has won 103 ATP Tour singles titles, the second-most in history behind Jimmy Connors' 109.\n\n**Most grass court titles:** Federer has won a record 19 grass court titles.\n\n**Most hard court titles:** Federer has won a record 71 hard court titles.\n\n**Most matches won on grass:** Federer has won a record 187 matches on grass courts.\n\n**Most matches won on hard courts:** Federer has won a record 443 matches on hard courts.\n\n**Most ATP finals appearances:** Federer has appeared in a record 157 ATP finals.\n\n**Most ATP semifinal appearances:** Federer has appeared in a record 215 ATP semifinals.\n\n**Most ATP quarterfinal appearances:** Federer has appeared in a record 284 ATP quarterfinals.\n\nAdditionally, Federer has won the Davis Cup a record six times and has reached the semifinals or better at every Grand Slam tournament for 10 consecutive years from 2004 to 2013.\n\nThese records demonstrate Federer's incredible consistency, dominance, and longevity at the top of men's tennis."
  ]
];
      const aggResults = ["Roger Federer is widely regarded as one of the greatest tennis players of all time, holding numerous records in men's tennis. Here are some of his most notable records:\n\n* Grand Slam titles: Federer has won a record 20 Grand Slam singles titles, including eight Wimbledon titles, six Australian Open titles, five US Open titles, and one French Open title.\n* Weeks as world No. 1: Federer spent a record 310 weeks as the world No. 1 ranked player, with a streak of 237 consecutive weeks in the top spot.\n* ATP Masters 1000 titles: Federer has won a record 31 ATP Masters 1000 titles, the most in history.\n* Consecutive wins: Federer holds the record for the most consecutive victories in a single season, with a streak of 41 wins in 2006.\n* Davis Cup titles: Federer has won the Davis Cup a record six times.\n* Most titles in a year: Federer holds the record for the most titles won in a single year, with a total of 10 titles in 2006.\n* Consecutive Grand Slam semifinals: Federer reached a record 23 consecutive Grand Slam semifinals from the 2004 Wimbledon Championships to the 2010 Australian Open.\n* Consecutive Grand Slam finals: Federer reached a record 10 consecutive Grand Slam finals from the 2005 Wimbledon Championships to the 2007 US Open.\n* Consecutive Grand Slam titles: Federer won five consecutive Grand Slam titles from the 2005 US Open to the 2007 Australian Open.\n* Most aces in a career: Federer has hit a total of 10,136 aces in his career, the most in history.\n* Most consecutive wins against top-10 opponents: Federer holds the record for the most consecutive wins against top-10 opponents, with a streak of 23 wins from 2005 to 2007.\n* Year-end No. 1 finishes: Federer has finished as the year-end No. 1 ranked player in the ATP rankings a record six times (2004-2007, 2009, 2012).\n* Oldest player to hold No. 1 ranking: Federer became the oldest player to hold the No. 1 ranking at 37 years and 233 days in 2018.\n* Most ATP titles: Federer has won 103 ATP Tour singles titles, the second-most in history behind Jimmy Connors' 109.\n* Most grass court titles: Federer has won a record 19 grass court titles.\n* Most hard court titles: Federer has won a record 71 hard court titles.\n* Most matches won on grass: Federer has won a record 187 matches on grass courts.\n* Most matches won on hard courts: Federer has won a record 443 matches on hard courts.\n* Most ATP finals appearances: Federer has appeared in a record 157 ATP finals.\n* Most ATP semifinal appearances: Federer has appeared in a record 215 ATP semifinals.\n* Most ATP quarterfinal appearances: Federer has appeared in a record 284 ATP quarterfinals.\n\nThese records demonstrate Federer's incredible consistency, dominance, and longevity at the top of men's tennis."];

      let currentIndex = 0;
      let currentLayer = 0;
      let showingIndividual = true;

      const contentArea = document.getElementById("contentArea");
      const cardTitle = document.getElementById("cardTitle");
      const questionDiv = document.getElementById("question");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const summariesBtn = document.getElementById("summariesBtn");
      const paragraphsBtn = document.getElementById("paragraphsBtn");
      const upBtn = document.getElementById("upBtn");
      const downBtn = document.getElementById("downBtn");
      const paragraphDots = document.getElementById("paragraphDots");
      const layerDots = document.getElementById("layerDots");

      function updateContent() {
        if (showingIndividual) {
          contentArea.textContent =
            individualResults[currentLayer][currentIndex].trim();
          cardTitle.textContent = modelNames[currentIndex];
        } else {
          contentArea.textContent = aggResults[currentLayer].trim();
          cardTitle.textContent = `MoA Layer ${currentLayer + 1}`;
        }
        questionDiv.textContent = question;
        summariesBtn.classList.toggle("active", !showingIndividual);
        paragraphsBtn.classList.toggle("active", showingIndividual);
        updateButtonStates();
        updateDots();
      }

      function updateDots() {
        paragraphDots.innerHTML = "";
        layerDots.innerHTML = "";
        if (showingIndividual) {
          for (let i = 0; i < individualResults[currentLayer].length; i++) {
            const dot = document.createElement("div");
            dot.classList.add("dot");
            if (i === currentIndex) dot.classList.add("active");
            paragraphDots.appendChild(dot);
          }
        } else {
          const dot = document.createElement("div");
          dot.classList.add("dot");
          paragraphDots.appendChild(dot);
        }
        const totalLayers = showingIndividual
          ? individualResults.length
          : aggResults.length;
        for (let i = 0; i < totalLayers; i++) {
          const dot = document.createElement("div");
          dot.classList.add("dot");
          if (i === currentLayer) dot.classList.add("active");
          layerDots.appendChild(dot);
        }
      }

      function updateButtonStates() {
        if (showingIndividual) {
          prevBtn.disabled = currentIndex === 0;
          nextBtn.disabled =
            currentIndex === individualResults[currentLayer].length - 1;
        } else {
          prevBtn.disabled = true;
          nextBtn.disabled = true;
        }
        upBtn.disabled = currentLayer === 0;
        downBtn.disabled =
          currentLayer ===
          (showingIndividual
            ? individualResults.length - 1
            : aggResults.length - 1);
      }

      function toggleView(showParagraphs) {
        showingIndividual = showParagraphs;
        currentIndex = 0;
        currentLayer = 0;
        updateContent();
      }

      summariesBtn.addEventListener("click", () => toggleView(false));
      paragraphsBtn.addEventListener("click", () => toggleView(true));
      prevBtn.addEventListener("click", () => {
        if (showingIndividual && currentIndex > 0) {
          currentIndex--;
          updateContent();
        }
      });

      nextBtn.addEventListener("click", () => {
        if (
          showingIndividual &&
          currentIndex < individualResults[currentLayer].length - 1
        ) {
          currentIndex++;
          updateContent();
        }
      });

      upBtn.addEventListener("click", () => {
        if (currentLayer > 0) {
          currentLayer--;
          updateContent();
        }
      });

      downBtn.addEventListener("click", () => {
        const maxLayer = showingIndividual
          ? individualResults.length - 1
          : aggResults.length - 1;
        if (currentLayer < maxLayer) {
          currentLayer++;
          updateContent();
        }
      });

      document.addEventListener("keydown", (event) => {
        switch (event.key) {
          case "ArrowUp":
            if (!upBtn.disabled) {
              upBtn.click();
            }
            break;
          case "ArrowDown":
            if (!downBtn.disabled) {
              downBtn.click();
            }
            break;
          case "ArrowLeft":
            if (!prevBtn.disabled) {
              prevBtn.click();
            }
            break;
          case "ArrowRight":
            if (!nextBtn.disabled) {
              nextBtn.click();
            }
            break;
          case " ": // space
            event.preventDefault(); // Prevent page scrolling
            toggleView(!showingIndividual);
            break;
        }
      });

      updateContent();
    </script>
  </body>
</html>
